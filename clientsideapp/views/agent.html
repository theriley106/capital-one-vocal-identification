<!doctype html>
<html lang="en">
  <head>
    <title>Hello World - Support</title>
    <link rel="icon" type="image/png" sizes="32x32" href="//cdn.shopify.com/s/files/1/1765/5971/t/10/assets/favicon-32x32.png?9610605222100492220">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="stylesheets/main.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
      crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
      crossorigin="anonymous">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>


  <body>
    <!-- <header>
      <img id="profile-picture" src="/images/Capture.PNG" class="rounded">
      <div id="customer" class="align-middle">
        Harshil Shah
      </div>
      <div id="customer-language" class="align-middle">
        - English
      </div>
    </header> -->
    <header class="row">
        <div id="wrapper" class="col align-self-start">
          <img id="logo" src="/images/logo.png" align="left">
        </div>
        <div class="col align-self-center">
          <img id="profile-picture" src="/images/Capture.PNG" class="rounded">
          <div id="customer" class="align-middle">
            Harshil Shah
          </div>
          <div id="customer-language" class="align-middle">
            - Hindi
          </div>
        </div>
        <div class="col align-self-end"></div>
      </header>
    <nav class="nav nav-pills nav-fill tabs">
      <a class="nav-item nav-link" id="requestButton" href="#" onclick="showRequest()">Customer Request</a>
      <a class="nav-item nav-link" id="infoButton" href="#" onclick="showInfo()">Customer Information</a>
    </nav>

    <div id="account-information" class="text-field">
      <h4 style="text-align: center">Account Information</h4>
      <div id="description">
        <ul class="list-group">
          <li class="list-group-item">
            <h5 class="mb-1 d-inline-flex align-middle">Account Number: </h5>
            <span class="list-text d-inline-flex align-middle">669219443321</span>
          </li>
          <li class="list-group-item">
            <h5 class="mb-1 d-inline-flex align-middle">Address: </h5>
            <span class="list-text d-inline-flex align-middle">109 Tindall Road</span>
          </li>
          <li class="list-group-item">
            <h5 class="mb-1 d-inline-flex align-middle">City: </h5>
            <span class="list-text d-inline-flex align-middle">Mars</span>
          </li>
          <li class="list-group-item">
            <h5 class="mb-1 d-inline-flex align-middle">State: </h5>
            <span class="list-text d-inline-flex align-middle">PA</span>
          </li>
          <li class="list-group-item">
            <h5 class="mb-1 d-inline-flex align-middle">Zip Code: </h5>
            <span class="list-text d-inline-flex align-middle">16046</span>
          </li>
        </ul>
      </div>
      <h4 style="text-align: center">Card Information</h4>
      <div id="description">
        <ul class="list-group">
          <li class="list-group-item">
            <h5 class="mb-1 d-inline-flex align-middle">Card Number: </h5>
            <span class="list-text d-inline-flex align-middle">4420 3900 2211 0910</span>
          </li>
          <li class="list-group-item">
            <h5 class="mb-1 d-inline-flex align-middle">Balance: </h5>
            <span class="list-text d-inline-flex align-middle">$1,000,000</span>
          </li>
        </ul>
      </div>
    </div>

    <div id="translation">
      <div id="translation-text" class="row">
        <div class="col-sm-6">
          <h5>Customer</h5>
          <div id="label" class="text-muted">Translation</div><p id="translation"></p>
          <hr class="my-2">
          <div id="label" class="text-muted d-inline-block">Sentiment</div><div id="sentiment" class="d-inline-block"></div>
        </div>
        <div class="col-sm-6">
          <h5>Agent</h5>
          <div id="label" class="text-muted">Original text</div><p id="output"></p>
          <hr class="my-2">
          <div id="label" class="text-muted">Translation</div><p id="agent-translation" class="phrase"></p>
        </div>
      </div>

      <div id="callTimer" class="row justify-content-center">
        <time>00:00:00</time>
      </div>

      <div id="record">
        <button id="microphone" style="background-color:green">
          <i class="fas fa-microphone"></i>
        </button>
        <p id="call-status">Start Speaking</p>
      </div>

      <!-- <div>
            <p class="phrase">Phrase...</p>
            <p class="result">Right or wrong?</p>
            <p class="output">...diagnostic messages</p>
        </div> -->
      <div class="justify-content-center" style="text-align: center">
        <div id="languagSelect" class="col">
          <label>Language: </label>
          <select id="langSelect">
            <option value="da">Danish</option>
            <option value="en" selected="select">English</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="hi">Hindi</option>
            <option value="es">Spanish</option>
          </select>
        </div>
      </div>
      <!--Scripts-->
      <script type="text/javascript" src="js/customer.js"></script>

  </div>

    <script>
      read();
      var recording = true;
      document.getElementById("requestButton").style.backgroundColor = "#4f92ff";
      document.getElementById("requestButton").style.color = "white";
      document.getElementById("infoButton").style.backgroundColor = "white";
      document.getElementById("infoButton").style.color = "#4f92ff";
      document.getElementById("account-information").style.display = "none";

      function showInfo() {
        document.getElementById("translation").style.display = "none";
        document.getElementById("account-information").style.display = "block";
        document.getElementById("infoButton").style.backgroundColor = "#4f92ff";
        document.getElementById("infoButton").style.color = "white";
        document.getElementById("requestButton").style.backgroundColor = "white";
        document.getElementById("requestButton").style.color = "#4f92ff";
      }
      function showRequest() {
        document.getElementById("translation").style.display = "block";
        document.getElementById("account-information").style.display = "none";
        document.getElementById("requestButton").style.backgroundColor = "#4f92ff";
        document.getElementById("requestButton").style.color = "white";
        document.getElementById("infoButton").style.backgroundColor = "white";
        document.getElementById("infoButton").style.color = "#4f92ff";
      }
      function read() {
        var text = null;
        $.ajax({
            url: 'http://104.236.71.248:8000/updates',
            type: 'GET',
            data: text
        }).done(function(resp){
          var lang = "Hindi";
          document.getElementById("customer-language").innerHTML = ' - ' + lang;
        });
      }

    function translate(text, language) {
      $.ajax({
          url: 'http://104.236.71.248:8000/updates',
          type: 'POST',
          data: {
            text: text,
            lang: language
          },
      }).done(function(resp) {
        customer_lang=resp.language;
          document.getElementById("original_text").innerHTML=resp.original_text;
          document.getElementById("agent-translation").innerHTML=resp.new_text;
        //alert(this.response);
      });
    }

    </script>
  </body>

</html>
